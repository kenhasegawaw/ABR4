# Web バーコードスキャナー 使用手順書

## 概要
このアプリケーションは、ブラウザのカメラ機能を使用してバーコードやQRコードをリアルタイムで読み取るWebアプリケーションです。PC・スマートフォンの両方で動作し、複数のバーコードを同時に検出できます。

## 対応環境
- ✅ **推奨ブラウザ**: Chrome、Edge、Android Chrome
- ⚠️ **部分対応**: Firefox、iOS Safari（フォールバック機能で動作）
- 📱 **デバイス**: PC、スマートフォン、タブレット
- 📷 **カメラ**: フロントカメラ、バックカメラ対応

## セットアップ手順

### 1. ファイルの準備
以下のファイルが同じフォルダに配置されていることを確認してください：
```
barcode-scanner-js-main/
├── index.html
├── app.js
├── styles.css
└── docs/
    └── barcode-scanner-research.md
```

### 2. ローカルサーバーでの起動

#### 方法1: VS Code Live Server拡張機能を使用
1. VS Codeで本プロジェクトフォルダを開く
2. Live Server拡張機能をインストール
3. `index.html`を右クリック → "Open with Live Server"を選択

#### 方法2: Pythonの簡易サーバーを使用
1. コマンドプロンプト/PowerShellでプロジェクトフォルダに移動
2. 以下のコマンドを実行：
```powershell
# Python 3の場合
python -m http.server 8000

# Python 2の場合
python -m SimpleHTTPServer 8000
```
3. ブラウザで `http://localhost:8000` にアクセス

#### 方法3: Node.jsのサーバーを使用
```powershell
# http-serverをグローバルインストール
npm install -g http-server

# サーバー起動
http-server -p 8000
```

### 3. HTTPS対応（推奨）
カメラアクセスにはHTTPS環境が推奨されます：

#### ngrok を使用する場合
```powershell
# ngrokをインストール後
ngrok http 8000
```
表示されたHTTPS URLでアクセス

## 使用方法

### 基本操作

1. **アプリケーション起動**
   - ブラウザでアプリにアクセス
   - カメラの使用許可を求められたら「許可」をクリック

2. **スキャン開始**
   - 「開始」ボタンをクリック
   - カメラプレビューが表示される
   - バーコード・QRコードをカメラに向ける

3. **結果確認**
   - 検出されたコードは自動的にテキストエリアに表示
   - 検出位置は緑色の枠で表示
   - 複数のコードを同時に検出可能

4. **スキャン停止**
   - 「停止」ボタンでカメラを停止
   - 「クリア」ボタンで検出結果をクリア

### 詳細設定

#### カメラ選択
- ドロップダウンメニューから使用するカメラを選択
- PC：内蔵カメラ、外付けカメラを切り替え
- スマートフォン：フロント・バックカメラを切り替え

#### 検出アルゴリズム選択
- **BarcodeDetector**: ブラウザ内蔵API（高速・高精度）
- **ZXing**: 互換性重視のフォールバック

## トラブルシューティング

### よくある問題と解決方法

#### ❌ カメラが起動しない
- **原因**: カメラアクセス許可がない
- **解決**: ブラウザの設定でカメラアクセスを許可
- **手順**: ブラウザのアドレスバー左側の🔒アイコン → サイトの設定 → カメラを「許可」

#### ❌ HTTPSではないサイトでカメラが使用できない
- **原因**: セキュリティ制限
- **解決**: HTTPS環境でアクセス、またはlocalhostで使用

#### ❌ バーコードが検出されない
- **原因**: 照明不足、距離、角度の問題
- **解決**:
  - 十分な照明を確保
  - バーコードとの距離を10-30cm程度に調整
  - バーコードを画面の中央に配置
  - 検出アルゴリズムを変更してみる

#### ❌ 複数のバーコードが正しく検出されない
- **原因**: バーコード同士が近すぎる
- **解決**: バーコード間隔を広げる

### ブラウザ別の注意事項

#### Chrome/Edge（推奨）
- BarcodeDetector APIが利用可能
- 最高のパフォーマンスと精度

#### Firefox
- ZXingフォールバックで動作
- 初回読み込みに時間がかかる場合あり

#### iOS Safari
- カメラアクセスに制限あり
- フルスクリーンモードでの使用を推奨

## 対応バーコード形式

### 1次元バーコード
- Code 128
- Code 39
- Code 93
- EAN-8/EAN-13
- UPC-A/UPC-E
- ITF-14
- RSS-14

### 2次元バーコード
- QR Code
- Data Matrix
- PDF417
- Aztec Code

## 技術仕様

### 使用技術
- **フロントエンド**: HTML5, CSS3, JavaScript (ES Modules)
- **カメラAPI**: MediaDevices.getUserMedia
- **検出エンジン**: 
  - Barcode Detection API (ネイティブ)
  - ZXing Library (フォールバック)

### パフォーマンス
- **検出間隔**: 250ms
- **結果保持時間**: 8秒
- **同時検出**: 複数対応
- **解像度**: カメラの最大解像度を使用

## ライセンス・著作権
- 本アプリケーション: プロジェクトのLICENSEファイルを参照
- ZXing Library: Apache License 2.0
- BarcodeDetector API: ブラウザ標準API

## サポート・問い合わせ
技術的な質問や不具合報告は、プロジェクトの管理者にお問い合わせください。

---

**注意**: このアプリケーションはローカル環境での使用を前提としています。機密性の高いバーコード情報を扱う場合は、適切なセキュリティ対策を講じてください。